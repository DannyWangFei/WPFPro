@model WPFPro.Models.LogOnModel
@{
    ViewBag.Title = "登录";
}
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<link href="../../Content/CSS/monkey.css" type="text/css" rel="stylesheet" />
<script type="text/javascript">
    $(document).ready(function () {
        var i = 0;
        //----------------------验证码看不清-------------
        $("#captcha").click(function () {
            $("#captcha").attr("src", '@Url.Content("/Account/CaptchaVerifyCode")/' + i);
            i++;
        });

        //----------------账号名称-----------------------
        $("#UserName").blur(function () {
            var username = $("#UserName").val().trim();
            if (username == "") {
                $("#UsernameErrorinfo").text("请填写账号");
                $("#UsernameErrorinfo").show();
                return false;
            } else { $("#UsernameErrorinfo").hide(); }
        });
        //----------------密码验证-----------------------
        $("#Password").blur(function () {
            var pwd = $("#Password").val().trim();
            if (pwd == "") {
                $("#pwdError").show(); return false;
            } else { $("#pwdError").hide(); return true; }
        });
    });
</script>

@Html.ValidationSummary(true, "")
@using (Html.BeginForm())
{
    <div>
        <div class="login-left">
            <div class="page" style="width: 340px; height: 200px; margin: 45px auto">
                登录
                <div class="editor-field">
                    @Html.TextBoxFor(m => m.UserName, new { @class = "inputcss", placeholder = "邮箱" })
                    @Html.ValidationMessageFor(m => m.UserName)
                    <span style="color: Red">*</span>&nbsp;<span id="UsernameErrorinfo" class="validateCSS"></span>
                </div>
                <div class="editor-field">
                    @Html.PasswordFor(m => m.Password, new { @class = "inputcss", placeholder = "密码" })
                    @Html.ValidationMessageFor(m => m.Password)
                    <span style="color: Red">*</span>&nbsp;<span id="pwdError" class="validateCSS">请填写密码</span>
                </div>
                <div class="editor-field">
                    <div class="veriyCode">
                        @Html.TextBoxFor(m => m.veryCode, new { @class = "veryCodeinput", placeholder = "验证码", maxlength = "4" })
                    </div>
                    <div>
                        <img alt="验证码" class="validateCode" src="@Url.Content("/Account/CaptchaVerifyCode")" id="captcha" />
                    </div>
                </div>
                <div class="editor-label">
                    @Html.CheckBoxFor(m => m.RememberMe)
                    @Html.LabelFor(m => m.RememberMe)
                </div>
                <div style="clear: both; margin-top: 10px;">
                    <input type="submit" id="btnLogin" class="btn btn-primary" value="登 录" />
                </div>
                <div class="col-lg-push-11">
                    @Html.ActionLink("忘记密码?", "ForgetPassword")
                </div>
            </div>
        </div>
        @Html.Partial("pv_Monkey")
        <div class="clearfix"></div>
    </div>
}
